{"version":3,"sources":["components/HomePage.js","components/PeopleRow.js","components/PeopleTable.js","helpers.js","components/PeopleTablePage.js","people.js","App.js","index.js"],"names":["HomePage","react_default","a","createElement","className","PeopleRow","_ref","currentPerson","tableHeaders","highlightPerson","selectedPerson","highlightedValue","born","age","sex","century","id","name","history","useHistory","match","useRouteMatch","location","useLocation","ClassNames","concat","person--selected","onClick","push","pathname","path","replace","toLowerCase","search","map","_ref2","text","code","key","person--born-before-1650","person--age-over-65","toString","split","RegExp","part","i","react","style","backgroundColor","PeopleTable","people","sortTable","_useState","useState","_useState2","Object","slicedToArray","selectedId","setSelectedId","selectPerson","prevArgs","prevValue","_len","arguments","length","args","Array","_key","every","arg","currentPeople","keys","toUpperCase","slice","createTableHeaders","type","person","components_PeopleRow","debounce","f","delay","timer","clearTimeout","setTimeout","apply","originalPeople","died","father","mother","index","objectSpread2","Math","ceil","PeopleTablePage","setHighlightedValue","_useState3","_useState4","searchValue","setSearchValue","_useState5","_useState6","activeColumn","setActiveColumn","_useState7","_useState8","direction","setDirection","URLSearchParams","applyFilterWithDebounce","query","historyPushWithDebounce","searchedPeople","filter","includes","sortType","callback","string","b","localeCompare","number","sortedPeople","sort","reverse","Fragment","placeholder","onChange","event","value","target","trim","set","get","components_PeopleTable","clickedColumn","App","react_router_dom","activeClassName","exact","to","react_router","component","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.370caa68.chunk.js","sourcesContent":["import React from 'react';\n\nconst HomePage = () => <h1 className=\"main-title\">Home Page</h1>;\n\nexport default HomePage;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport ClassNames from 'classnames';\nimport { useHistory, useRouteMatch, useLocation } from 'react-router-dom';\n\nconst PeopleRow = ({\n  currentPerson,\n  tableHeaders,\n  highlightPerson,\n  selectedPerson,\n  highlightedValue,\n}) => {\n  const { born, age, sex, century, id, name } = currentPerson;\n  const history = useHistory();\n  const match = useRouteMatch();\n  const location = useLocation();\n\n  const highlightText = (text) => {\n    if (!highlightedValue) {\n      return text;\n    }\n\n    const parts = text.toString().split(\n      new RegExp(`(${highlightedValue})`, 'gi')\n    );\n\n    return parts.map((part, i) => (\n      <Fragment key={`${part + i}`}>\n        {part.toLowerCase() === highlightedValue.toLowerCase()\n          ? <span style={{ backgroundColor: 'green' }}>{part}</span>\n          : part}\n      </Fragment>\n    ));\n  };\n\n  return (\n    <tr\n      className={ClassNames(\n        'person',\n        sex === 'm' ? 'person--male' : 'person--female',\n        `person--lived-in-${century}`,\n        { 'person--selected': selectedPerson === id },\n      )}\n      onClick={() => {\n        highlightPerson(id);\n        history.push({\n          pathname: `${match.path}/${name.replace(/\\W/g, '-').toLowerCase()}`,\n          search: location.search,\n        });\n      }}\n    >\n      {tableHeaders.map(({ code }) => (\n        <td\n          key={code}\n          className={ClassNames({\n            'person--born-before-1650': code === 'name' && born < 1650,\n            'person--age-over-65': code === 'age' && age >= 65,\n          })}\n        >\n          {highlightText(currentPerson[code])}\n        </td>\n      ))}\n    </tr>\n  );\n};\n\nPeopleRow.propTypes = {\n  currentPerson: PropTypes.objectOf(\n    PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.number,\n    ])\n  ).isRequired,\n  tableHeaders: PropTypes.arrayOf(\n    PropTypes.objectOf(\n      PropTypes.string\n    )\n  ).isRequired,\n  highlightPerson: PropTypes.func.isRequired,\n  selectedPerson: PropTypes.number.isRequired,\n  highlightedValue: PropTypes.string.isRequired,\n};\n\nexport default PeopleRow;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport PeopleRow from './PeopleRow';\n\nconst PeopleTable = ({ people, sortTable, highlightedValue }) => {\n  const [selectedId, setSelectedId] = useState(0);\n\n  const selectPerson = (id) => {\n    setSelectedId(id);\n  };\n\n  let prevArgs = [];\n  let prevValue = null;\n  const createTableHeaders = (...args) => {\n    if (args.every((arg, i) => arg === prevArgs[i])) {\n      return prevValue;\n    }\n\n    const [currentPeople] = args;\n\n    prevArgs = args;\n    if (people.length === 0) {\n      prevValue = [{ name: 'There are no people' }];\n\n      return prevValue;\n    }\n\n    prevValue = Object.keys(currentPeople[0]).map(\n      key => ({\n        code: key, name: key[0].toUpperCase() + key.slice(1,),\n      })\n    );\n\n    return prevValue;\n  };\n\n  const tableHeaders = createTableHeaders(people);\n\n  return (\n    <table className=\"people-table\">\n      <thead>\n        <tr>\n          {tableHeaders.map(({ name, code }) => (\n            <th key={name}>\n              <button\n                type=\"button\"\n                className=\"sort-button\"\n                onClick={() => sortTable(code)}\n              >\n                {name}\n              </button>\n            </th>\n          ))}\n        </tr>\n      </thead>\n\n      <tbody>\n        {people.map(person => (\n          <PeopleRow\n            key={person.id}\n            currentPerson={person}\n            tableHeaders={tableHeaders}\n            highlightPerson={selectPerson}\n            selectedPerson={selectedId}\n            highlightedValue={highlightedValue}\n          />\n        ))}\n      </tbody>\n    </table>\n  );\n};\n\nPeopleTable.propTypes = {\n  people: PropTypes.arrayOf(\n    PropTypes.object\n  ).isRequired,\n  sortTable: PropTypes.func.isRequired,\n  highlightedValue: PropTypes.string.isRequired,\n};\n\nexport default PeopleTable;\n","export default function debounce(f, delay) {\n  let timer;\n\n  return function wrapper(...args) {\n    clearTimeout(timer);\n\n    timer = setTimeout(f, delay, ...args);\n  };\n}\n","import React, { useState } from 'react';\nimport { useLocation, useHistory } from 'react-router-dom';\nimport peopleFromServer from '../people';\nimport PeopleTable from './PeopleTable';\nimport debounce from '../helpers';\n\nconst addPeopleFields = peopleArr => (\n  peopleArr.map(\n    (person, index) => ({\n      id: index + 1,\n      ...person,\n      mother: person.mother || '',\n      father: person.father || '',\n      age: person.died - person.born,\n      century: Math.ceil(person.died / 100),\n    })\n  )\n);\n\nconst originalPeople = addPeopleFields(peopleFromServer);\n\nconst PeopleTablePage = () => {\n  const [highlightedValue, setHighlightedValue] = useState('');\n  const [searchValue, setSearchValue] = useState('');\n  const [activeColumn, setActiveColumn] = useState(null);\n  const [direction, setDirection] = useState(null);\n\n  const history = useHistory();\n  const location = useLocation();\n  const search = new URLSearchParams(location.search);\n\n  const applyFilterWithDebounce = debounce(query => setSearchValue(query), 500);\n\n  const historyPushWithDebounce = debounce(() => {\n    history.push({ search: search.toString() });\n  }, 500);\n\n  const searchPeople = (event) => {\n    const value = event.target.value.trim().toLowerCase();\n\n    search.set('query', value);\n    const query = search.get('query');\n\n    setHighlightedValue(value);\n    applyFilterWithDebounce(query);\n    historyPushWithDebounce();\n  };\n\n  const sortTable = (clickedColumn) => {\n    search.set('sortBy', clickedColumn);\n\n    if (activeColumn !== clickedColumn) {\n      setActiveColumn(clickedColumn);\n      setDirection('asc');\n      search.set('sortOrder', 'asc');\n    } else {\n      setDirection(direction === 'asc' ? 'desc' : 'asc');\n      search.set('sortOrder', direction === 'asc' ? 'desc' : 'asc');\n    }\n\n    history.push({ search: search.toString() });\n  };\n\n  const searchedPeople = originalPeople.filter(\n    ({ name, mother, father }) => (name + mother + father)\n      .toLowerCase()\n      .includes(searchValue)\n  );\n\n  let sortType = '';\n\n  if (searchedPeople[0]) {\n    sortType = typeof searchedPeople[0][activeColumn];\n  }\n\n  const by = {\n    string: (a, b) => a[activeColumn].localeCompare(b[activeColumn]),\n    number: (a, b) => a[activeColumn] - b[activeColumn],\n  };\n  const callback = by[sortType] || (() => 0);\n  const sortedPeople = searchedPeople.sort(callback);\n\n  if (direction === 'desc') {\n    sortedPeople.reverse();\n  }\n\n  return (\n    <>\n      <h1 className=\"main-title\">People table</h1>\n      <p className=\"table-info\">\n        {`Number of people: ${sortedPeople.length}`}\n      </p>\n\n      <input\n        type=\"search\"\n        className=\"table-search\"\n        placeholder=\"Search for people\"\n        onChange={searchPeople}\n      />\n\n      <PeopleTable\n        people={sortedPeople}\n        sortTable={sortTable}\n        highlightedValue={highlightedValue}\n      />\n    </>\n  );\n};\n\nexport default PeopleTablePage;\n","export default [\n  {\n    name: 'Carolus Haverbeke',\n    sex: 'm',\n    born: 1832,\n    died: 1905,\n    father: 'Carel Haverbeke',\n    mother: 'Maria van Brussel',\n  },\n  {\n    name: 'Emma de Milliano',\n    sex: 'f',\n    born: 1876,\n    died: 1956,\n    father: 'Petrus de Milliano',\n    mother: 'Sophia van Damme',\n  },\n  {\n    name: 'Maria de Rycke',\n    sex: 'f',\n    born: 1683,\n    died: 1724,\n    father: 'Frederik de Rycke',\n    mother: 'Laurentia van Vlaenderen',\n  },\n  {\n    name: 'Jan van Brussel',\n    sex: 'm',\n    born: 1714,\n    died: 1748,\n    father: 'Jacobus van Brussel',\n    mother: 'Joanna van Rooten',\n  },\n  {\n    name: 'Philibert Haverbeke',\n    sex: 'm',\n    born: 1907,\n    died: 1997,\n    father: 'Emile Haverbeke',\n    mother: 'Emma de Milliano',\n  },\n  {\n    name: 'Jan Frans van Brussel',\n    sex: 'm',\n    born: 1761,\n    died: 1833,\n    father: 'Jacobus Bernardus van Brussel',\n    mother: null,\n  },\n  {\n    name: 'Pauwels van Haverbeke',\n    sex: 'm',\n    born: 1535,\n    died: 1582,\n    father: 'N. van Haverbeke',\n    mother: null,\n  },\n  {\n    name: 'Clara Aernoudts',\n    sex: 'f',\n    born: 1918,\n    died: 2012,\n    father: 'Henry Aernoudts',\n    mother: 'Sidonie Coene',\n  },\n  {\n    name: 'Emile Haverbeke',\n    sex: 'm',\n    born: 1877,\n    died: 1968,\n    father: 'Carolus Haverbeke',\n    mother: 'Maria Sturm',\n  },\n  {\n    name: 'Lieven de Causmaecker',\n    sex: 'm',\n    born: 1696,\n    died: 1724,\n    father: 'Carel de Causmaecker',\n    mother: 'Joanna Claes',\n  },\n  {\n    name: 'Pieter Haverbeke',\n    sex: 'm',\n    born: 1602,\n    died: 1642,\n    father: 'Lieven van Haverbeke',\n    mother: null,\n  },\n  {\n    name: 'Livina Haverbeke',\n    sex: 'f',\n    born: 1692,\n    died: 1743,\n    father: 'Daniel Haverbeke',\n    mother: 'Joanna de Pape',\n  },\n  {\n    name: 'Pieter Bernard Haverbeke',\n    sex: 'm',\n    born: 1695,\n    died: 1762,\n    father: 'Willem Haverbeke',\n    mother: 'Petronella Wauters',\n  },\n  {\n    name: 'Lieven van Haverbeke',\n    sex: 'm',\n    born: 1570,\n    died: 1636,\n    father: 'Pauwels van Haverbeke',\n    mother: 'Lievijne Jans',\n  },\n  {\n    name: 'Joanna de Causmaecker',\n    sex: 'f',\n    born: 1762,\n    died: 1807,\n    father: 'Bernardus de Causmaecker',\n    mother: null,\n  },\n  {\n    name: 'Willem Haverbeke',\n    sex: 'm',\n    born: 1668,\n    died: 1731,\n    father: 'Lieven Haverbeke',\n    mother: 'Elisabeth Hercke',\n  },\n  {\n    name: 'Pieter Antone Haverbeke',\n    sex: 'm',\n    born: 1753,\n    died: 1798,\n    father: 'Jan Francies Haverbeke',\n    mother: 'Petronella de Decker',\n  },\n  {\n    name: 'Maria van Brussel',\n    sex: 'f',\n    born: 1801,\n    died: 1834,\n    father: 'Jan Frans van Brussel',\n    mother: 'Joanna de Causmaecker',\n  },\n  {\n    name: 'Angela Haverbeke',\n    sex: 'f',\n    born: 1728,\n    died: 1734,\n    father: 'Pieter Bernard Haverbeke',\n    mother: 'Livina de Vrieze',\n  },\n  {\n    name: 'Elisabeth Haverbeke',\n    sex: 'f',\n    born: 1711,\n    died: 1754,\n    father: 'Jan Haverbeke',\n    mother: 'Maria de Rycke',\n  },\n  {\n    name: 'Lievijne Jans',\n    sex: 'f',\n    born: 1542,\n    died: 1582,\n    father: null,\n    mother: null,\n  },\n  {\n    name: 'Bernardus de Causmaecker',\n    sex: 'm',\n    born: 1721,\n    died: 1789,\n    father: 'Lieven de Causmaecker',\n    mother: 'Livina Haverbeke',\n  },\n  {\n    name: 'Jacoba Lammens',\n    sex: 'f',\n    born: 1699,\n    died: 1740,\n    father: 'Lieven Lammens',\n    mother: 'Livina de Vrieze',\n  },\n  {\n    name: 'Pieter de Decker',\n    sex: 'm',\n    born: 1705,\n    died: 1780,\n    father: 'Joos de Decker',\n    mother: 'Petronella van de Steene',\n  },\n  {\n    name: 'Joanna de Pape',\n    sex: 'f',\n    born: 1654,\n    died: 1723,\n    father: 'Vincent de Pape',\n    mother: 'Petronella Wauters',\n  },\n  {\n    name: 'Daniel Haverbeke',\n    sex: 'm',\n    born: 1652,\n    died: 1723,\n    father: 'Lieven Haverbeke',\n    mother: 'Elisabeth Hercke',\n  },\n  {\n    name: 'Lieven Haverbeke',\n    sex: 'm',\n    born: 1631,\n    died: 1676,\n    father: 'Pieter Haverbeke',\n    mother: 'Anna van Hecke',\n  },\n  {\n    name: 'Martina de Pape',\n    sex: 'f',\n    born: 1666,\n    died: 1727,\n    father: 'Vincent de Pape',\n    mother: 'Petronella Wauters',\n  },\n  {\n    name: 'Jan Francies Haverbeke',\n    sex: 'm',\n    born: 1725,\n    died: 1779,\n    father: 'Pieter Bernard Haverbeke',\n    mother: 'Livina de Vrieze',\n  },\n  {\n    name: 'Maria Haverbeke',\n    sex: 'm',\n    born: 1905,\n    died: 1997,\n    father: 'Emile Haverbeke',\n    mother: 'Emma de Milliano',\n  },\n  {\n    name: 'Petronella de Decker',\n    sex: 'f',\n    born: 1731,\n    died: 1781,\n    father: 'Pieter de Decker',\n    mother: 'Livina Haverbeke',\n  },\n  {\n    name: 'Livina Sierens',\n    sex: 'f',\n    born: 1761,\n    died: 1826,\n    father: 'Jan Sierens',\n    mother: 'Maria van Waes',\n  },\n  {\n    name: 'Laurentia Haverbeke',\n    sex: 'f',\n    born: 1710,\n    died: 1786,\n    father: 'Jan Haverbeke',\n    mother: 'Maria de Rycke',\n  },\n  {\n    name: 'Carel Haverbeke',\n    sex: 'm',\n    born: 1796,\n    died: 1837,\n    father: 'Pieter Antone Haverbeke',\n    mother: 'Livina Sierens',\n  },\n  {\n    name: 'Elisabeth Hercke',\n    sex: 'f',\n    born: 1632,\n    died: 1674,\n    father: 'Willem Hercke',\n    mother: 'Margriet de Brabander',\n  },\n  {\n    name: 'Jan Haverbeke',\n    sex: 'm',\n    born: 1671,\n    died: 1731,\n    father: 'Lieven Haverbeke',\n    mother: 'Elisabeth Hercke',\n  },\n  {\n    name: 'Anna van Hecke',\n    sex: 'f',\n    born: 1607,\n    died: 1670,\n    father: 'Paschasius van Hecke',\n    mother: 'Martijntken Beelaert',\n  },\n  {\n    name: 'Maria Sturm',\n    sex: 'f',\n    born: 1835,\n    died: 1917,\n    father: 'Charles Sturm',\n    mother: 'Seraphina Spelier',\n  },\n  {\n    name: 'Jacobus Bernardus van Brussel',\n    sex: 'm',\n    born: 1736,\n    died: 1809,\n    father: 'Jan van Brussel',\n    mother: 'Elisabeth Haverbeke',\n  },\n];\n","import React from 'react';\nimport { NavLink, Switch, Route } from 'react-router-dom';\nimport './App.scss';\nimport HomePage from './components/HomePage';\nimport PeopleTablePage from './components/PeopleTablePage';\n\nconst App = () => (\n  <div className=\"nav\">\n    <ul className=\"nav__list\">\n      <li className=\"nav__item\">\n        <NavLink\n          className=\"nav__link\"\n          activeClassName=\"nav__link--active\"\n          exact\n          to=\"/\"\n        >\n          Home\n        </NavLink>\n      </li>\n\n      <li className=\"nav__item\">\n        <NavLink\n          className=\"nav__link\"\n          activeClassName=\"nav__link--active\"\n          to=\"/people\"\n        >\n          People Table\n        </NavLink>\n      </li>\n    </ul>\n\n    <Switch>\n      <Route path=\"/\" exact component={HomePage} />\n      <Route path=\"/people\" component={PeopleTablePage} />\n    </Switch>\n  </div>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\n\nimport App from './App';\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}